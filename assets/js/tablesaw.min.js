!function(a){var b=document.createElement("div"),c=b.getElementsByTagName("i"),d=a(document.documentElement);b.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->",c[0]&&d.addClass("ie-lte8"),"querySelector"in document&&(!window.blackberry||window.WebKitPoint)&&!window.operamini&&(d.addClass("tablesaw-enhanced"),a(function(){a(document).trigger("enhance.tablesaw")}))}(jQuery),"undefined"==typeof Tablesaw&&(Tablesaw={}),Tablesaw.config||(Tablesaw.config={}),function(a){var b="table",c={toolbar:"tablesaw-bar"},d={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},e="stack",f="table[data-tablesaw-mode],table[data-tablesaw-sortable]",g=function(b){if(!b)throw new Error("Tablesaw requires an element.");this.table=b,this.$table=a(b),this.mode=this.$table.attr("data-tablesaw-mode")||e,this.init()};g.prototype.init=function(){this.$table.attr("id")||this.$table.attr("id",b+"-"+Math.round(1e4*Math.random())),this.createToolbar();var a=this._initCells();this.$table.trigger(d.create,[this,a])},g.prototype._initCells=function(){var b,c=this.table.querySelectorAll("thead tr"),d=this;return a(c).each(function(){var e=0;a(this).children().each(function(){var f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(e+1)+")";if(b=e+1,f)for(var h=0;h<f-1;h++)e++,g+=", :nth-child("+(e+1)+")";this.cells=d.$table.find("tr").not(a(c).eq(0)).not(this).children(g),e++})}),b},g.prototype.refresh=function(){this._initCells(),this.$table.trigger(d.refresh)},g.prototype.createToolbar=function(){var b=this.$table.prev("."+c.toolbar);b.length||(b=a("<div>").addClass(c.toolbar).insertBefore(this.$table)),this.$toolbar=b,this.mode&&this.$toolbar.addClass("mode-"+this.mode)},g.prototype.destroy=function(){this.$table.prev("."+c.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});var e=this.$table.attr("id");a(document).unbind("."+e),a(window).unbind("."+e),this.$table.trigger(d.destroy,[this]),this.$table.removeAttr("data-tablesaw-mode"),this.$table.removeData(b)},a.fn[b]=function(){return this.each(function(){var c=a(this);if(!c.data(b)){var d=new g(this);c.data(b,d)}})},a(document).on("enhance.tablesaw",function(c){a(c.target).find(f)[b]()})}(jQuery),function(a,b,c){var d={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label",cellContentLabels:"tablesaw-cell-content"},e={obj:"tablesaw-stack"},f={labelless:"data-tablesaw-no-labels",hideempty:"data-tablesaw-hide-empty"},g=function(a){this.$table=b(a),this.labelless=this.$table.is("["+f.labelless+"]"),this.hideempty=this.$table.is("["+f.hideempty+"]"),this.labelless||(this.allHeaders=this.$table.find("th")),this.$table.data(e.obj,this)};g.prototype.init=function(a){if(this.$table.addClass(d.stackTable),!this.labelless){var c=b(this.allHeaders),e=this.hideempty;c.each(function(){var c=b(this),g=b(this.cells).filter(function(){return!(b(this).parent().is("["+f.labelless+"]")||e&&b(this).is(":empty"))}),h=g.not(this).filter("thead th").length&&" tablesaw-cell-label-top",i=c.find(".tablesaw-sortable-btn"),j=i.length?i.html():c.html();if(""!==j)if(h){var k=parseInt(b(this).attr("colspan"),10),l="";k&&(l="td:nth-child("+k+"n + "+a+")"),g.filter(l).prepend("<b class='"+d.cellLabels+h+"'>"+j+"</b>")}else g.wrapInner("<span class='"+d.cellContentLabels+"'></span>"),g.prepend("<b class='"+d.cellLabels+"'>"+j+"</b>")})}},g.prototype.destroy=function(){this.$table.removeClass(d.stackTable),this.$table.find("."+d.cellLabels).remove(),this.$table.find("."+d.cellContentLabels).each(function(){b(this).replaceWith(this.childNodes)})},b(document).on("tablesawcreate",function(a,b,c){if("stack"===b.mode){var d=new g(b.table);d.init(c)}}),b(document).on("tablesawdestroy",function(a,c){"stack"===c.mode&&b(c.table).data(e.obj).destroy()})}(this,jQuery),function(a){var b="tablesawbtn",c=".btn",d={_create:function(){return a(this).each(function(){a(this).trigger("beforecreate."+b)[b]("_init").trigger("create."+b)})},_init:function(){var c=a(this),d=this.getElementsByTagName("select")[0];return d&&a(this).addClass("btn-select")[b]("_select",d),c},_select:function(b){var c=function(b,c){var d,e,f,g=a(c).find("option");if(g.each(function(){var a=this;a.selected&&(d=document.createTextNode(a.text))}),f=b.childNodes,g.length>0)for(var h=0,i=f.length;h<i;h++)e=f[h],e&&3===e.nodeType&&b.replaceChild(d,e)};c(this,b),a(this).bind("change refresh",function(){c(this,b)})}};a.fn[b]=function(c,d,e,f){return this.each(function(){return c&&"string"==typeof c?a.fn[b].prototype[c].call(this,d,e,f):a(this).data(b+"active")?a(this):(a(this).data(b+"active",!0),void a.fn[b].prototype._create.call(this))})},a.extend(a.fn[b].prototype,d),a(document).on("enhance",function(d){a(c,d.target)[b]()})}(jQuery),function(a,b,c){var d=function(a){this.$table=b(a),this.classes={columnToggleTable:"tablesaw-columntoggle",columnBtnContain:"tablesaw-columntoggle-btnwrap tablesaw-advance",columnBtn:"tablesaw-columntoggle-btn tablesaw-nav-btn down",popup:"tablesaw-columntoggle-popup",priorityPrefix:"tablesaw-priority-",toolbar:"tablesaw-bar"},this.i18n={columnBtnText:"Columns",columnsDialogError:"No eligible columns."},this.headers=this.$table.find("tr:first > th"),this.$table.data("tablesaw-coltoggle",this)};d.prototype.init=function(){function a(){i.addClass("visible"),f.removeClass("down").addClass("up"),b(document).unbind("click."+d,c),window.clearTimeout(l),l=window.setTimeout(function(){b(document).one("click."+d,c)},15)}function c(a){a&&b(a.target).closest("."+j.classes.popup).length||(b(document).unbind("click."+d),f.removeClass("up").addClass("down"),i.removeClass("visible"))}var d,e,f,g,h,i,j=this;this.$table.addClass(this.classes.columnToggleTable),d=this.$table.attr("id"),e=d+"-popup",i=b("<div class='"+this.classes.columnBtnContain+"'></div>"),f=b("<a href='#"+e+"' class='btn btn-micro "+this.classes.columnBtn+"' data-popup-link><span>"+this.i18n.columnBtnText+"</span></a>"),g=b("<div class='dialog-table-coltoggle "+this.classes.popup+"' id='"+e+"'></div>"),h=b("<div class='btn-group'></div>");var k=!1;b(this.headers).not("td").each(function(){var a=b(this),c=a.attr("data-tablesaw-priority"),d=a.add(this.cells);c&&"persist"!==c&&(d.addClass(j.classes.priorityPrefix+c),b("<label><input type='checkbox' checked>"+a.text()+"</label>").appendTo(h).children(0).data("cells",d),k=!0)}),k||h.append("<label>"+this.i18n.columnsDialogError+"</label>"),h.appendTo(g),h.find('input[type="checkbox"]').on("change",function(a){var c=a.target.checked;b(a.target).data("cells").toggleClass("tablesaw-cell-hidden",!c).toggleClass("tablesaw-cell-visible",c),j.$table.trigger("tablesawcolumns")}),f.appendTo(i),i.appendTo(this.$table.prev("."+this.classes.toolbar));var l;f.on("click.tablesaw",function(b){b.preventDefault(),i.is(".visible")?c():a()}),g.appendTo(i),this.$menu=h,b(window).on("resize."+d,function(){j.refreshToggle()}),this.refreshToggle()},d.prototype.refreshToggle=function(){this.$menu.find("input").each(function(){var a=b(this);this.checked="table-cell"===a.data("cells").eq(0).css("display")})},d.prototype.refreshPriority=function(){var a=this;b(this.headers).not("td").each(function(){var c=b(this),d=c.attr("data-tablesaw-priority"),e=c.add(this.cells);d&&"persist"!==d&&e.addClass(a.classes.priorityPrefix+d)})},d.prototype.destroy=function(){this.$table.removeClass(this.classes.columnToggleTable),this.$table.find("th, td").each(function(){var a=b(this);a.removeClass("tablesaw-cell-hidden").removeClass("tablesaw-cell-visible"),this.className=this.className.replace(/\bui\-table\-priority\-\d\b/g,"")})},b(document).on("tablesawcreate",function(a,b){if("columntoggle"===b.mode){var c=new d(b.table);c.init()}}),b(document).on("tablesawdestroy",function(a,c){"columntoggle"===c.mode&&b(c.table).data("tablesaw-coltoggle").destroy()})}(this,jQuery),function(a,b,c){function d(c){function d(a){return b(a.cells).add(a)}function f(a){d(a).removeClass("tablesaw-cell-hidden")}function g(a){d(a).addClass("tablesaw-cell-hidden")}function h(a){d(a).addClass("tablesaw-cell-persist")}function i(a){return b(a).is('[data-tablesaw-priority="persist"]')}function j(){c.removeClass(w),b("#"+B+"-persist").remove()}function k(){var a="#"+B+".tablesaw-swipe ",d=[],e=c.width();x.each(function(c){var f;i(this)&&(f=b(this).outerWidth(),f<.75*e&&d.push(a+" .tablesaw-cell-persist:nth-child("+(c+1)+") { width: "+f+"px; }"))}),j(),c.addClass(w),A.append(b("<style>"+d.join("\n")+"</style>").attr("id",B+"-persist"))}function l(){var a,c=[];return y.each(function(d){var e=b(this),f="none"===e.css("display")||e.is(".tablesaw-cell-hidden");if(f||a){if(f&&a)return c[1]=d,!1}else a=!0,c[0]=d}),c}function m(){var a=l();return[a[1]-1,a[0]-1]}function n(a){return a?l():m()}function o(a){return a[1]>-1&&a[1]<y.length}function p(){var a=20,d=c.parent().width(),e=[],i=0,k=[],l=x.length;x.each(function(c){var f=b(this),g=f.is('[data-tablesaw-priority="persist"]');e.push(g),i+=z[c]+(g?0:a),k.push(i),(g||i>d)&&l--});var m=0===l;x.each(function(a){return e[a]?void h(this):void(k[a]<=d||m?(m=!1,f(this)):g(this))}),C||j(),c.trigger("tablesawcolumns")}function q(a){var b=n(a);o(b)&&(isNaN(b[0])&&(a?b[0]=0:b[0]=y.length-1),C||k(),g(y.get(b[0])),f(y.get(b[1])),c.trigger("tablesawcolumns"))}function r(a,b){return(a.touches||a.originalEvent.touches)[0][b]}var s=b("<div class='tablesaw-advance'></div>"),t=b("<a href='#' class='tablesaw-nav-btn btn btn-micro left' title='Previous Column'></a>").appendTo(s),u=b("<a href='#' class='tablesaw-nav-btn btn btn-micro right' title='Next Column'></a>").appendTo(s),v="disabled",w="tablesaw-fix-persist",x=c.find("thead th"),y=x.not('[data-tablesaw-priority="persist"]'),z=[],A=b(document.head||"head"),B=c.attr("id"),C=b("html").is(".ie-lte8");if(!x.length)throw new Error("tablesaw swipe: no header cells found. Are you using <th> inside of <thead>?");c.css("width","auto"),x.each(function(){z.push(b(this).outerWidth())}),c.css("width",""),s.appendTo(c.prev(".tablesaw-bar")),c.addClass("tablesaw-swipe"),B||(B="tableswipe-"+Math.round(1e4*Math.random()),c.attr("id",B)),t.add(u).click(function(a){q(!!b(a.target).closest(u).length),a.preventDefault()}),c.bind("touchstart.swipetoggle",function(a){var c,d,f=r(a,"pageX"),g=r(a,"pageY");b(this).bind("touchmove",function(a){c=r(a,"pageX"),d=r(a,"pageY"),Math.abs(c-f)>e.horizontalThreshold&&Math.abs(d-g)<e.verticalThreshold&&a.preventDefault()}).bind("touchend.swipetoggle",function(){c-f<-1*e.horizontalThreshold&&q(!0),c-f>e.horizontalThreshold&&q(!1),b(this).unbind("touchmove touchend")})}).bind("tablesawcolumns.swipetoggle",function(){t[o(m())?"removeClass":"addClass"](v),u[o(l())?"removeClass":"addClass"](v)}).bind("tablesawnext.swipetoggle",function(){q(!0)}).bind("tablesawprev.swipetoggle",function(){q(!1)}).bind("tablesawdestroy.swipetoggle",function(){var c=b(this);c.removeClass("tablesaw-swipe"),c.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),b(a).off("resize",p),c.unbind(".swipetoggle")}),p(),b(a).on("resize",p)}b.extend(Tablesaw.config,{swipe:{horizontalThreshold:15,verticalThreshold:30}});var e=Tablesaw.config.swipe;b(document).on("tablesawcreate",function(a,b){"swipe"===b.mode&&d(b.$table)})}(this,jQuery),function(a){function b(b){return a.map(b.childNodes,function(b){var c=a(b);if(c.is("input, select"))return c.val();if(!c.hasClass("tablesaw-cell-label"))return a.trim(c.text())}).join("")}var c="tablesaw-sortable",d="table[data-"+c+"]",e="[data-"+c+"-switch]",f={defaultCol:"data-tablesaw-sortable-default-col"},g={head:c+"-head",ascend:c+"-ascending",descend:c+"-descending",switcher:c+"-switch",tableToolbar:"tablesaw-toolbar",sortButton:c+"-btn"},h={sort:"Sort"},i={_create:function(b){return a(this).each(function(){var d=a(this).data("init"+c);return!d&&void a(this).data("init"+c,!0).trigger("beforecreate."+c)[c]("_init",b).trigger("create."+c)})},_init:function(){var d,i,j=a(this),k=function(){j.addClass(c)},l=function(b){a.each(b,function(b,c){a(c).addClass(g.head)})},m=function(b,c){a.each(b,function(b,d){var e=a("<button class='"+g.sortButton+"'/>");e.bind("click",{col:d},c),a(d).wrapInner(e)})},n=function(b){a.each(b,function(b,c){var d=a(c);d.removeAttr(f.defaultCol),d.removeClass(g.ascend),d.removeClass(g.descend)})},o=function(b){if(!a(b.target).is("a[href]")){b.stopPropagation();var e=a(this).parent(),f=b.data.col,h=d.index(e);n(e.siblings()),e.hasClass(g.descend)?(j[c]("sortBy",f,!0),h+="_asc"):(j[c]("sortBy",f),h+="_desc"),i&&i.find("select").val(h).trigger("refresh"),b.preventDefault()}},p=function(b){a.each(b,function(b,c){var d=a(c);d.is("["+f.defaultCol+"]")&&(d.hasClass(g.descend)||d.addClass(g.ascend))})},q=function(d){i=a("<div>").addClass(g.switcher).addClass(g.tableToolbar).html(function(){var c=["<label>"+h.sort+":"];return c.push('<span class="btn btn-small">&#160;<select>'),d.each(function(d){var e=a(this),h=e.is("["+f.defaultCol+"]"),i=e.hasClass(g.descend),j=!1;a(this.cells).slice(0,3).each(function(){if(!isNaN(parseInt(b(this),10)))return j=!0,!1}),c.push("<option"+(h&&!i?" selected":"")+' value="'+d+'_asc">'+e.text()+" "+(j?"↑":"(A-Z)")+"</option>"),c.push("<option"+(h&&i?" selected":"")+' value="'+d+'_desc">'+e.text()+" "+(j?"↓":"(Z-A)")+"</option>")}),c.push("</select></span></label>"),c.join("")});var e=j.prev(".tablesaw-bar"),k=e.children().eq(0);k.length?i.insertBefore(k):i.appendTo(e),i.find(".btn").tablesawbtn(),i.find("select").on("change",function(){var b=a(this).val().split("_"),e=d.eq(b[0]);n(e.siblings()),j[c]("sortBy",e.get(0),"asc"===b[1])})};k(),d=j.find("thead th[data-"+c+"-col]"),l(d),m(d,o),p(d),j.is(e)&&q(d,j.find("tbody tr:nth-child(-n+3)"))},getColumnNumber:function(b){return a(b).prevAll().length},getTableRows:function(){return a(this).find("tbody tr")},sortRows:function(c,d,e,f){var g,h,i,j=function(c){var e=[];return a.each(c,function(c,f){e.push({cell:b(a(f).children().get(d)),rowNum:c})}),e},k=function(a,b){var c,d=/[^\-\+\d\.]/g;return c=a?function(a,c){return b||!isNaN(parseFloat(a.cell))?parseFloat(a.cell.replace(d,""))-parseFloat(c.cell.replace(d,"")):a.cell.toLowerCase()>c.cell.toLowerCase()?1:-1}:function(a,c){return b||!isNaN(parseFloat(a.cell))?parseFloat(c.cell.replace(d,""))-parseFloat(a.cell.replace(d,"")):a.cell.toLowerCase()<c.cell.toLowerCase()?1:-1}},l=function(a,b){var c,d,e,f=[];for(c=0,d=a.length;c<d;c++)e=a[c].rowNum,f.push(b[e]);return f};return g=j(c),h=k(e,a(f).is("[data-sortable-numeric]")),i=g.sort(h),c=l(i,c)},replaceTableRows:function(b){var c=a(this),d=c.find("tbody");d.html(b)},makeColDefault:function(b,c){var d=a(b);d.attr(f.defaultCol,"true"),c?(d.removeClass(g.descend),d.addClass(g.ascend)):(d.removeClass(g.ascend),d.addClass(g.descend))},sortBy:function(b,d){var e,f,g=a(this);e=g[c]("getColumnNumber",b),f=g[c]("getTableRows"),f=g[c]("sortRows",f,e,d,b),g[c]("replaceTableRows",f),g[c]("makeColDefault",b,d)}};a.fn[c]=function(b){var d,e=Array.prototype.slice.call(arguments,1);return b&&"string"==typeof b?(d=a.fn[c].prototype[b].apply(this[0],e),"undefined"!=typeof d?d:a(this)):(a(this).data(c+"data")||(a(this).data(c+"active",!0),a.fn[c].prototype._create.call(this,b)),a(this))},a.extend(a.fn[c].prototype,i),a(document).on("tablesawcreate",function(a,b){b.$table.is(d)&&b.$table[c]()})}(jQuery),function(a,b,c){function d(c){function d(b){var c=b.attr(e.attr.init);return!c||a.matchMedia&&a.matchMedia(c).matches}function f(){if(!d(c))return void g.hide();g.show();var a=h.find("li").removeClass(i);c.find("thead th").each(function(c){"none"===b(this).css("display")&&a.eq(c).addClass(i)})}var g=b('<div class="tablesaw-advance minimap">'),h=b('<ul class="tablesaw-advance-dots">').appendTo(g),i="tablesaw-advance-dots-hide",j=c.find("thead th");j.each(function(){h.append("<li><i></i></li>")}),g.appendTo(c.prev(".tablesaw-bar")),f(),b(a).on("resize",f),c.bind("tablesawcolumns.minimap",function(){f()}).bind("tablesawdestroy.minimap",function(){var c=b(this);c.prev(".tablesaw-bar").find(".tablesaw-advance").remove(),b(a).off("resize",f),c.unbind(".minimap")})}var e={attr:{init:"data-tablesaw-minimap"}};b(document).on("tablesawcreate",function(a,b){"swipe"!==b.mode&&"columntoggle"!==b.mode||!b.$table.is("[ "+e.attr.init+"]")||d(b.$table)})}(this,jQuery),function(a,b){var c={selectors:{init:"table[data-tablesaw-mode-switch]"},attributes:{excludeMode:"data-tablesaw-mode-exclude"},classes:{main:"tablesaw-modeswitch",toolbar:"tablesaw-toolbar"},modes:["stack","swipe","columntoggle"],i18n:{modes:["Stack","Swipe","Toggle"],columns:'Col<span class="a11y-sm">umn</span>s'},init:function(a){var d=b(a),e=d.attr(c.attributes.excludeMode),f=d.prev(".tablesaw-bar"),g="",h=b("<div>").addClass(c.classes.main+" "+c.classes.toolbar).html(function(){var a,b=["<label>"+c.i18n.columns+":"],f=d.attr("data-tablesaw-mode");b.push('<span class="btn btn-small">&#160;<select>');for(var h=0,i=c.modes.length;h<i;h++)e&&e.toLowerCase()===c.modes[h]||(a=f===c.modes[h],a&&(g=c.modes[h]),b.push("<option"+(a?" selected":"")+' value="'+c.modes[h]+'">'+c.i18n.modes[h]+"</option>"));return b.push("</select></span></label>"),b.join("")}),i=f.find(".tablesaw-advance").eq(0);i.length?h.insertBefore(i):h.appendTo(f),h.find(".btn").tablesawbtn(),h.find("select").bind("change",c.onModeChange)},onModeChange:function(){var a=b(this),d=a.closest("."+c.classes.main),e=a.closest(".tablesaw-bar").nextUntil(e).eq(0),f=a.val();d.remove(),e.data("table").destroy(),e.attr("data-tablesaw-mode",f),e.table()}};b(a.document).on("tablesawcreate",function(a,b){b.$table.is(c.selectors.init)&&c.init(b.table)})}(this,jQuery);